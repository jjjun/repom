# Documentation Structure

## 概要

このドキュメント構造は **AI エージェント協働** を前提として設計されています。各ディレクトリは明確な役割を持ち、情報のライフサイクル全体をカバーします。

---

## 📂 ディレクトリ構造

```
docs/
├── README.md           # このファイル（構造説明）
├── guides/             📘 使い方ガイド（実用的、教育的）
├── ideas/              💡 機能提案・アイデア
├── technical/          🔧 実装判断記録（なぜこうなったか）
└── issue/              📋 問題管理（バックログ + 完了）
    ├── README.md      # Issue インデックス
    ├── active/        # 作業中・未着手
    └── completed/     # 完了済み（001, 002, ...）
```

---

## 📖 各ディレクトリの詳細

### 1. **guides/** - 使い方ガイド

**目的**: 他の AI エージェントや開発者に機能を教えるための実用的なマニュアル

**特徴**:
- ✅ 簡潔（How-to 重視）
- ✅ コード例が豊富
- ✅ すぐに使える情報
- ✅ 初心者にも分かりやすい

**命名規則**: `<feature_name>_guide.md`

**例**:
```
base_model_auto_guide.md          # Pydantic スキーマ自動生成
repository_and_utilities_guide.md # Repository パターン
testing_guide.md                  # テスト戦略
```

**対象読者**: 
- 開発者（機能の使い方を学ぶ）
- AI エージェント（実装時の参考）

**テンプレート**:
```markdown
# [Feature Name] Guide

## 概要
[機能の説明]

## 基本的な使い方
[コード例]

## 高度な使い方
[応用例]

## トラブルシューティング
[よくある問題と解決方法]

## 関連ドキュメント
[リンク]
```

---

### 2. **ideas/** - 機能提案

**目的**: アイデア段階の提案を記録（実装前）

**特徴**:
- ✅ 問題提起と動機
- ✅ ユースケース
- ✅ **厳格な文書長制限（250-350行）**
- ❌ 完全な実装コードは含めない

**重要な制約**:
```
- 総行数: 250-350行まで
- コード例: 1例につき5-10行まで
- アプローチ: ONE recommended approach のみ
```

**なぜ制約が必要か**:
- AI エージェントのコンテキスト容量を節約
- 本質的な情報に集中
- 詳細は別ドキュメント（research/, technical/）へ

**命名規則**: `<feature_name>.md`

**テンプレート構造**:
```markdown
# [Feature Name]

## ステータス
- **段階**: アイディア
- **優先度**: 高/中/低
- **複雑度**: 高/中/低
- **作成日**: YYYY-MM-DD

## 概要 (2-3 sentences)
[簡潔な説明]

## モチベーション
### 現在の問題
[何が壊れているか、欠けているか]

### 期待される改善
[どう改善されるか]

## 提案する解決策
[ONE recommended approach のみ]

## 実装への影響
[既存機能への影響]

## 検証基準
[成功の判定基準]

## 関連リソース
[参考資料]
```

**対象読者**: AI エージェント（新機能検討時）

**詳細**: `ideas/README.md` を参照

---

### 3. **technical/** - 実装判断記録と技術調査

**目的**: 実装済み機能の「なぜこうなったか」を記録

**特徴**:
- ✅ 設計判断の背景
- ✅ 制約と制限事項
- ✅ 代替案とトレードオフ
- ✅ 将来の改善時の参考資料

### 3. **technical/** - 実装判断記録と技術調査

**目的**: 実装済み機能の「なぜこうなったか」を記録し、必要に応じて技術調査も行う

**特徴**:
- ✅ 設計判断の背景
- ✅ 制約と制限事項
- ✅ 代替案とトレードオフ
- ✅ 技術調査と実現可能性の検証
- ✅ 将来の改善時の参考資料

**guides/ との違い**:
| guides/ | technical/ |
|---------|-----------|
| How to use | Why it works this way |
| 使い方 | 設計判断の背景 |
| 簡潔 | 詳細 |
| 初心者向け | 改善担当者向け |

**ideas/ との違い**:
| ideas/ | technical/ |
|--------|-----------|
| 問題提起・アイデア | 技術的実現可能性・設計判断 |
| 簡潔（250-350行） | 詳細（制限なし） |
| アイデア段階 | 調査・検証・記録段階 |

**命名規則**: `<feature_name>_technical.md` または `<topic_name>.md`

**テンプレート構造**:
```markdown
# [Feature] Technical Documentation

## 概要
[機能の技術的な説明]

## 設計判断
### なぜこの実装を選んだか
[理由]

### 検討した代替案
[他のアプローチとトレードオフ]

## 制約と制限事項
[技術的な制約]

## 将来の改善案
[理想系への道筋、技術調査結果]

## 関連ドキュメント
- guides/: [使い方]
- issue/completed/: [実装記録]
```

**対象読者**: AI エージェント（改善・拡張時）

**詳細**: `technical/README.md` を参照

---

### 4. **issue/** - 問題管理

**目的**: 実装タスクの管理と記録

**対象読者**: AI エージェント（プロジェクト管理）

**詳細**: [docs/issue/README.md](issue/README.md) を参照

---

## 🔄 情報のライフサイクル

```
【アイデア段階】
    ↓
┌─────────────────────┐
│   ideas/            │  問題提起、簡潔な提案
│   (250-350行制限)   │
└─────────────────────┘
    ↓
┌─────────────────────┐
│   research/         │  技術調査、実現可能性
│   (詳細な分析)      │
└─────────────────────┘
    ↓
┌─────────────────────┐
│   issue/active/     │  実装計画、タスク管理
│   (進捗管理)        │
└─────────────────────┘
    ↓
【実装完了】
    ↓
┌─────────────────────┐
│   issue/completed/  │  実装記録
└─────────────────────┘
    ↓
┌─────────────────────┐
│   technical/        │  設計判断の背景
│   (なぜこうなったか)│
└─────────────────────┘
    ↓
┌─────────────────────┐
│   guides/           │  使い方マニュアル
│   (How-to)          │
└─────────────────────┘
```

---

## 🎯 ドキュメント作成のガイドライン

### 1. 適切なディレクトリを選ぶ

| 内容 | 配置先 |
|------|--------|
| 機能の使い方 | `guides/` |
| 新機能のアイデア | `ideas/` |
| 技術的な調査 | `research/` |
| 設計判断の記録 | `technical/` |
| 実装タスク | `issue/active/` |
| 完了した実装 | `issue/completed/` |

### 2. テンプレートを使う

各ディレクトリの README.md にテンプレートがあります。

### 3. クロスリファレンスを活用

```markdown
## 関連ドキュメント
- **guides/testing_guide.md**: 使い方
- **technical/test_infrastructure_technical.md**: 設計判断
- **issue/completed/009_test_infrastructure_improvement.md**: 実装記録
```

### 4. コンテキスト容量を意識

- **ideas/**: 250-350行厳守
- **guides/**: 簡潔に（500行以内推奨）
- **research/**, **technical/**: 必要に応じて詳細に

### 4. AI エージェントを意識

- 明確な見出し構造
- コード例は最小限かつ完全
- 前提条件を明示

---

## 📝 よくある質問

### Q: ideas/ と technical/ の違いは？

**A**: 
- **ideas/**: アイデア段階の簡潔な提案（250-350行）
- **technical/**: 技術調査・設計判断の記録（制限なし、実装前の調査も実装後の記録も両方含む）

### Q: guides/ と technical/ の違いは？

**A**:
- **guides/**: 使い方（How to use）
- **technical/**: 設計判断の背景（Why it works this way）

### Q: 既存プロジェクトに適用するには？

**A**: 段階的に導入：
1. `docs/` ディレクトリを作成
2. この README.md をコピー
3. `guides/` と `issues/` から開始
4. 既存ドキュメントを移行
5. 必要に応じて他のディレクトリを追加

---

## 🔗 関連リソース

- **.github/copilot-instructions.md**: AI エージェント向け指示
- **AGENTS.md**: プロジェクト構造と開発ガイドライン
- **README.md**: プロジェクトの基本情報

---

## 📅 メンテナンス

この README.md は：
- プロジェクト構造が変更された時に更新
- 新しいベストプラクティスが見つかった時に追記
- 他のプロジェクトからフィードバックがあった時に改善

---

**最終更新**: 2025-11-16  
**バージョン**: 1.0
