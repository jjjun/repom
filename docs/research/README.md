# Research Documentation

## 目的

このディレクトリは、**現状は代替案を使っているが、将来的に理想的な実装に移行するための調査記録**を保存します。

## 対象読者

- **将来の改善を担当する AI エージェント**（主要な対象）
- 理想系の実装を検討したい開発者

## 他のディレクトリとの違い

### `technical/` との違い

- **technical/**: 実装済みの判断記録（過去の決定事項）
- **research/**: まだ実現していない理想系への調査（未来の改善計画）

**時系列**:
```
research/ → 実装前の調査（理想はこうしたい）
   ↓
実装・完了
   ↓
technical/ → 実装後の記録（なぜこうなったか）
```

**使い分けの例**:
```
technical/alembic_version_locations_limitation.md
→ 「現在の実装では alembic.ini でしか設定できない」

research/alembic_dynamic_path.md（仮）
→ 「将来的には Python コードで動的に設定したい」
```

### `ideas/` との違い

- **ideas/**: アイデア段階の提案（問題提起、新機能の提案）
- **research/**: 技術調査と実現可能性の検証（実装方法の検討）

**ライフサイクル**:
```
ideas/ → 「こんな機能があったらいいな」
   ↓
research/ → 「どうやって実現するか調査」
   ↓
issue/active/ → 「実装計画」
```

## ドキュメントの種類

### 理想系への調査

現状は代替案を使っているが、将来的に理想的な実装にしたい場合の調査記録。

**例**: `auto_forward_refs_resolution.md`
- 現状: ユーザーが `forward_refs` を手動指定
- 理想: 完全自動で型解決
- 調査: どうやって実現するか

### 技術的課題の解決策探索

複雑な技術課題に対する複数のアプローチを比較検討。

### 実験結果の記録

実装前に試した実験やプロトタイプの結果を記録。

## ドキュメント作成ガイドライン

### 含めるべき内容

✅ 現状の制約・問題点  
✅ 理想的な動作  
✅ 複数のアプローチの比較  
✅ 実現可能性の評価  
✅ 技術的な課題  
✅ 将来の実装に向けたヒント

### 含めるべきでない内容

❌ 実装済み機能の詳細（technical/ に記載）  
❌ 基本的な使い方（guides/ に記載）  
❌ 実装タスクの追跡（issue/ に記載）

## ライフサイクル

```
ideas/              → アイデア提案
    ↓
research/           → 技術調査（実装前）← ここ
    ↓
issue/active/       → 実装計画
    ↓
issue/completed/    → 実装完了
    ↓
technical/          → 実装判断の記録
```

## 現在の研究トピック

### auto_forward_refs_resolution.md

**ステータス**: 🔬 調査中（未実装）

**目標**: ユーザーが `forward_refs` を手動指定せずに、完全自動でカスタム型を解決

**概要**:
- 型アノテーションから自動的にカスタム型を検出
- レジストリパターンまたは遅延解決パターンでの実装
- 循環参照への対応
- FastAPI response_model の完全自動化

---

## 使い方（AI エージェント向け）

### 理想系への移行を検討する時

1. research/ の該当トピックを読む
2. 現状の制約と理想系を理解する
3. 技術的な実現可能性を評価
4. issue/active/ に実装計画を作成

### 新しい研究トピックを作成する時

1. technical/ に現状の制約が記録されているか確認
2. 理想系の動作を定義
3. 複数のアプローチを調査
4. 実現可能性を評価

---

最終更新: 2025-11-16


2. **Issue 化** (`docs/issue/`)
   - 具体的な実装計画の策定
   - Phase 分けと優先度の決定
   - テスト戦略の確立

3. **実装・テスト**
   - コード実装
   - テスト作成と実行
   - ドキュメント更新

4. **完了**
   - Issue を完了マーク
   - README.md への反映
   - リリースノートへの記載

---

## 📝 新しい研究トピックの追加

新しい研究トピックを追加する場合：

1. このディレクトリに新しい `.md` ファイルを作成
2. このREADME に概要を追加
3. テンプレート構成：
   ```markdown
   # 研究: [トピック名]
   
   **ステータス**: 🔬 調査中
   **優先度**: 高/中/低
   **目標**: [一行で説明]
   
   ## ビジョン
   ## 技術的課題
   ## アプローチ候補
   ## 実験的実装の計画
   ## 検討事項
   ```

---

**最終更新**: 2025-11-14
